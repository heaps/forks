<!DOCTYPE html>
<html>
<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">

<h1>Balance List</h1>
Check Balance:
<button onclick="getBalance()">Get Balance</button><br><br>
<div id="status" style="color:#0000FF"></div>

<script>

// -------------------------------------------
//      sample accounts with city
//      REMOVE: private keys before deploy
// -------------------------------------------

var accounts = [
  {
    "address": "0x988535606746Eb13ad5F7D6B2deeed6927E81634",
    "signTransaction": "function signTransaction(tx,callback){return _this.signTransaction(tx,account.privateKey,callback);}",
    "sign": "function sign(data){return _this.sign(data,account.privateKey);}",
    "encrypt": "function encrypt(password,options){return _this.encrypt(account.privateKey,password,options);}",
    "label": "Arlington"
  },
  {
    "address": "0xC991E372875287d073379F66B7c1AeFfC1665037",
    "signTransaction": "function signTransaction(tx,callback){return _this.signTransaction(tx,account.privateKey,callback);}",
    "sign": "function sign(data){return _this.sign(data,account.privateKey);}",
    "encrypt": "function encrypt(password,options){return _this.encrypt(account.privateKey,password,options);}",
    "label": "Boston"
  },
  {
    "address": "0xdc1858D2088C1247503f4C1D226D64834ed30a5a",
    "signTransaction": "function signTransaction(tx,callback){return _this.signTransaction(tx,account.privateKey,callback);}",
    "sign": "function sign(data){return _this.sign(data,account.privateKey);}",
    "encrypt": "function encrypt(password,options){return _this.encrypt(account.privateKey,password,options);}",
    "label": "Beverly"
  },
  {
    "address": "0x5Ba5e59fffD3a1f1197832e3C1Cddb7ABfE30768",
    "signTransaction": "function signTransaction(tx,callback){return _this.signTransaction(tx,account.privateKey,callback);}",
    "sign": "function sign(data){return _this.sign(data,account.privateKey);}",
    "encrypt": "function encrypt(password,options){return _this.encrypt(account.privateKey,password,options);}",
    "label": "Braintree"
  },
  {
    "address": "0x96243016d1BDbE117cbBA3DEC3e0Ea6E7748854F",
    "signTransaction": "function signTransaction(tx,callback){return _this.signTransaction(tx,account.privateKey,callback);}",
    "sign": "function sign(data){return _this.sign(data,account.privateKey);}",
    "encrypt": "function encrypt(password,options){return _this.encrypt(account.privateKey,password,options);}",
    "label": "Brookline"
  },
  {
    "address": "0x50DEfA789fbA759994d23C9e586EfBDde7ACDD1a",
    "signTransaction": "function signTransaction(tx,callback){return _this.signTransaction(tx,account.privateKey,callback);}",
    "sign": "function sign(data){return _this.sign(data,account.privateKey);}",
    "encrypt": "function encrypt(password,options){return _this.encrypt(account.privateKey,password,options);}",
    "label": "Cambridge"
  },
  {
    "address": "0xb7eC74A7b6016aDB3782646e39F34a00C3C2A0B8",
    "signTransaction": "function signTransaction(tx,callback){return _this.signTransaction(tx,account.privateKey,callback);}",
    "sign": "function sign(data){return _this.sign(data,account.privateKey);}",
    "encrypt": "function encrypt(password,options){return _this.encrypt(account.privateKey,password,options);}",
    "label": "Canton"
  },
  {
    "address": "0xa765b1C3f2F9a8e3df47a38A28132e6833825A3f",
    "signTransaction": "function signTransaction(tx,callback){return _this.signTransaction(tx,account.privateKey,callback);}",
    "sign": "function sign(data){return _this.sign(data,account.privateKey);}",
    "encrypt": "function encrypt(password,options){return _this.encrypt(account.privateKey,password,options);}",
    "label": "Charlestown"
  },
  {
    "address": "0xECBFB951A03565E68DF634a520E9b466087949EA",
    "signTransaction": "function signTransaction(tx,callback){return _this.signTransaction(tx,account.privateKey,callback);}",
    "sign": "function sign(data){return _this.sign(data,account.privateKey);}",
    "encrypt": "function encrypt(password,options){return _this.encrypt(account.privateKey,password,options);}",
    "label": "Clinton"
  },
  {
    "address": "0x817B807a321Eb9395dD6f6CD4C7912FD5Cd7d5f0",
    "signTransaction": "function signTransaction(tx,callback){return _this.signTransaction(tx,account.privateKey,callback);}",
    "sign": "function sign(data){return _this.sign(data,account.privateKey);}",
    "encrypt": "function encrypt(password,options){return _this.encrypt(account.privateKey,password,options);}",
    "label": "Concord"
  },
  {
    "address": "0xC80F7307734E0b78d998d3A8e1e5167d47E44287",
    "signTransaction": "function signTransaction(tx,callback){return _this.signTransaction(tx,account.privateKey,callback);}",
    "sign": "function sign(data){return _this.sign(data,account.privateKey);}",
    "encrypt": "function encrypt(password,options){return _this.encrypt(account.privateKey,password,options);}",
    "label": "Danvers"
  },
  {
    "address": "0xD6372ccacFC2D9C9863A5138eb03df7f80a17C4a",
    "signTransaction": "function signTransaction(tx,callback){return _this.signTransaction(tx,account.privateKey,callback);}",
    "sign": "function sign(data){return _this.sign(data,account.privateKey);}",
    "encrypt": "function encrypt(password,options){return _this.encrypt(account.privateKey,password,options);}",
    "label": "Dartmouth"
  },
  {
    "address": "0x09388086F721959D159727FE3DA4f0AEdC638192",
    "signTransaction": "function signTransaction(tx,callback){return _this.signTransaction(tx,account.privateKey,callback);}",
    "sign": "function sign(data){return _this.sign(data,account.privateKey);}",
    "encrypt": "function encrypt(password,options){return _this.encrypt(account.privateKey,password,options);}",
    "label": "Dedham"
  },
  {
    "address": "0x30c557A9f4fa3bFb2AFf0740AE3Ba08Fa704B5eD",
    "signTransaction": "function signTransaction(tx,callback){return _this.signTransaction(tx,account.privateKey,callback);}",
    "sign": "function sign(data){return _this.sign(data,account.privateKey);}",
    "encrypt": "function encrypt(password,options){return _this.encrypt(account.privateKey,password,options);}",
    "label": "Dennis"
  },
  {
    "address": "0x7c900cE44A8Ceb3Cc9469C26Ec5E6730338e0A4F",
    "signTransaction": "function signTransaction(tx,callback){return _this.signTransaction(tx,account.privateKey,callback);}",
    "sign": "function sign(data){return _this.sign(data,account.privateKey);}",
    "encrypt": "function encrypt(password,options){return _this.encrypt(account.privateKey,password,options);}",
    "label": "Duxbury"
  },
  {
    "address": "0xbA0Da55a44d38393C9A9576B59dbF1926306E7f5",
    "signTransaction": "function signTransaction(tx,callback){return _this.signTransaction(tx,account.privateKey,callback);}",
    "sign": "function sign(data){return _this.sign(data,account.privateKey);}",
    "encrypt": "function encrypt(password,options){return _this.encrypt(account.privateKey,password,options);}",
    "label": "Eastham"
  },
  {
    "address": "0x2685f20002E05c974BF6CB18b31799B4dB67eA16",
    "signTransaction": "function signTransaction(tx,callback){return _this.signTransaction(tx,account.privateKey,callback);}",
    "sign": "function sign(data){return _this.sign(data,account.privateKey);}",
    "encrypt": "function encrypt(password,options){return _this.encrypt(account.privateKey,password,options);}",
    "label": "Edgartown"
  },
  {
    "address": "0x450cEd54FACA7B1BC198a9aCD321B4955B0d6C6D",
    "signTransaction": "function signTransaction(tx,callback){return _this.signTransaction(tx,account.privateKey,callback);}",
    "sign": "function sign(data){return _this.sign(data,account.privateKey);}",
    "encrypt": "function encrypt(password,options){return _this.encrypt(account.privateKey,password,options);}",
    "label": "Everett"
  },
  {
    "address": "0x4152C8EE44598418D3259D9A47C9cBB203Fa2db9",
    "signTransaction": "function signTransaction(tx,callback){return _this.signTransaction(tx,account.privateKey,callback);}",
    "sign": "function sign(data){return _this.sign(data,account.privateKey);}",
    "encrypt": "function encrypt(password,options){return _this.encrypt(account.privateKey,password,options);}",
    "label": "Fairhaven"
  },
  {
    "address": "0x9Bb6Ec720883744FB6A8de74029d7e58896B86f4",
    "signTransaction": "function signTransaction(tx,callback){return _this.signTransaction(tx,account.privateKey,callback);}",
    "sign": "function sign(data){return _this.sign(data,account.privateKey);}",
    "encrypt": "function encrypt(password,options){return _this.encrypt(account.privateKey,password,options);}",
    "label": "Falmouth"
  },
  {
    "address": "0x44199Df8F56F55C493E793d9762345eB9e445509",
    "signTransaction": "function signTransaction(tx,callback){return _this.signTransaction(tx,account.privateKey,callback);}",
    "sign": "function sign(data){return _this.sign(data,account.privateKey);}",
    "encrypt": "function encrypt(password,options){return _this.encrypt(account.privateKey,password,options);}",
    "label": "Hyannis"
  },
  {
    "address": "0xE3f0C42b75030b2646CC2b1Af0006378a211eB6D",
    "signTransaction": "function signTransaction(tx,callback){return _this.signTransaction(tx,account.privateKey,callback);}",
    "sign": "function sign(data){return _this.sign(data,account.privateKey);}",
    "encrypt": "function encrypt(password,options){return _this.encrypt(account.privateKey,password,options);}",
    "label": "Lexington"
  },
  {
    "address": "0xE5E9512cdB67A42a50096896da1414895277c4E0",
    "signTransaction": "function signTransaction(tx,callback){return _this.signTransaction(tx,account.privateKey,callback);}",
    "sign": "function sign(data){return _this.sign(data,account.privateKey);}",
    "encrypt": "function encrypt(password,options){return _this.encrypt(account.privateKey,password,options);}",
    "label": "Malden"
  },
  {
    "address": "0xD0992C427B07aDD6db67640f995a202F5BEffa2d",
    "signTransaction": "function signTransaction(tx,callback){return _this.signTransaction(tx,account.privateKey,callback);}",
    "sign": "function sign(data){return _this.sign(data,account.privateKey);}",
    "encrypt": "function encrypt(password,options){return _this.encrypt(account.privateKey,password,options);}",
    "label": "Medford"
  },
  {
    "address": "0x7eBcC861a63fAf02Ab91BFfa7B83C7B1f519B862",
    "signTransaction": "function signTransaction(tx,callback){return _this.signTransaction(tx,account.privateKey,callback);}",
    "sign": "function sign(data){return _this.sign(data,account.privateKey);}",
    "encrypt": "function encrypt(password,options){return _this.encrypt(account.privateKey,password,options);}",
    "label": "Milton"
  },
  {
    "address": "0x06258AA984fC9d9A2bf26525b049f2072fEE33cA",
    "signTransaction": "function signTransaction(tx,callback){return _this.signTransaction(tx,account.privateKey,callback);}",
    "sign": "function sign(data){return _this.sign(data,account.privateKey);}",
    "encrypt": "function encrypt(password,options){return _this.encrypt(account.privateKey,password,options);}",
    "label": "Natick"
  },
  {
    "address": "0x148124bf12F7285d35bfeb958C2B75cD727FFBAE",
    "signTransaction": "function signTransaction(tx,callback){return _this.signTransaction(tx,account.privateKey,callback);}",
    "sign": "function sign(data){return _this.sign(data,account.privateKey);}",
    "encrypt": "function encrypt(password,options){return _this.encrypt(account.privateKey,password,options);}",
    "label": "Newton"
  },
  {
    "address": "0xbf8aB23ed55bb7950ae5aa87495Ca02Ab99FA311",
    "signTransaction": "function signTransaction(tx,callback){return _this.signTransaction(tx,account.privateKey,callback);}",
    "sign": "function sign(data){return _this.sign(data,account.privateKey);}",
    "encrypt": "function encrypt(password,options){return _this.encrypt(account.privateKey,password,options);}",
    "label": "Norwood"
  },
  {
    "address": "0x700757bEd1e731a3522a35D181639F7E83f56601",
    "signTransaction": "function signTransaction(tx,callback){return _this.signTransaction(tx,account.privateKey,callback);}",
    "sign": "function sign(data){return _this.sign(data,account.privateKey);}",
    "encrypt": "function encrypt(password,options){return _this.encrypt(account.privateKey,password,options);}",
    "label": "Wellesley"
  },
  {
    "address": "0x98ec2E5b203060FF45a59576D21311807d86F2e0",
    "signTransaction": "function signTransaction(tx,callback){return _this.signTransaction(tx,account.privateKey,callback);}",
    "sign": "function sign(data){return _this.sign(data,account.privateKey);}",
    "encrypt": "function encrypt(password,options){return _this.encrypt(account.privateKey,password,options);}",
    "label": "Watertown"
  }
];


// [];
// accounts.push({'address':'0x54fcc51FceFC3959c2a78842f8705A20CD301c46','balance':0,'label':'Arlington'});
// accounts.push({'address':'0x5b77E5b7cd80EFeF760343Dc226Cc65aa3C16c0D','balance':0,'label':'Boston'});
// accounts.push({'address':'0x2E438E9A483816447E9e8778392ECF3E33ff6083','balance':0,'label':'Beverly'});
// accounts.push({'address':'0x1F9997eBb2A3b32098D88f1f0Ca3f25fEB5D82DB','balance':0,'label':'Braintree'});
// accounts.push({'address':'0x56DFceC68C950D33fEe443CE5C4a62e61f0071e4','balance':0,'label':'Brookline'});
// accounts.push({'address':'0xe9Fc42107b2563307a812de0A2348bb1B52968cB','balance':0,'label':'Cambridge'});
// accounts.push({'address':'0xE9d502678070638ADbeC0532238024006E12ADc4','balance':0,'label':'Canton'});
// accounts.push({'address':'0x347628B70BB45b349011651e7f65E8b1bfB2349b','balance':0,'label':'Charlestown'});
// accounts.push({'address':'0x105B28C63ea9815EaB885eC4790031bCB361fe89','balance':0,'label':'Clinton'});
// accounts.push({'address':'0x0bd6B8DbEBbd1AF19e6916d8f67972147E6b0377','balance':0,'label':'Concord'});
// accounts.push({'address':'0x0Aa6e4aC795A0e60353921B283Dd012F9Eb51B34','balance':0,'label':'Danvers'});
// accounts.push({'address':'0x2eB083455Fc4B1487fAfAbA9704996b6feBCced5','balance':0,'label':'Dartmouth'});
// accounts.push({'address':'0xCb6EC235863938eCeb9e0FCf7faD3bB42ab85Fc4','balance':0,'label':'Dedham'});
// accounts.push({'address':'0x825042A80A257FfC4366B78F777949E5Ea209E16','balance':0,'label':'Dennis'});
// accounts.push({'address':'0x16fAC5c36A33E60D2d4052Cf11b73a7F82C0C6E0','balance':0,'label':'Duxbury'});
// accounts.push({'address':'0xC34E611009b00324478E6fd31692F8e9Bd06e901','balance':0,'label':'Eastham'});
// accounts.push({'address':'0x43878350D9BF2571DF451F1a9A7e2CC395163734','balance':0,'label':'Edgartown'});
// accounts.push({'address':'0xdFFF07105e05d7fF0fb05C5Aeaa3029c4ffb9D27','balance':0,'label':'Everett'});
// accounts.push({'address':'0x8E4D169aBFa5fD561EF8c788FE0156A8BD0916d2','balance':0,'label':'Fairhaven'});
// accounts.push({'address':'0x87594968DE0e2b87344E966BeAAd96e6c328E8DE','balance':0,'label':'Falmouth'});
// accounts.push({'address':'0x6549B108A5eB32F617E2691bE0029f40Dcf94274','balance':0,'label':'Hyannis'});
// accounts.push({'address':'0x2fd99D0fEab93ACa11e4BdFb5BD9F2D2e399F938','balance':0,'label':'Lexington'});
// accounts.push({'address':'0x6bA9F86545772ff7d28cC1bEaD358d9DB1280393','balance':0,'label':'Malden'});
// accounts.push({'address':'0x1c993E8B3b882E53dfcbFBf69Ab08e96495ad57a','balance':0,'label':'Medford'});
// accounts.push({'address':'0xC7E090beFC86E60617898f96b75c2e44c2596DCb','balance':0,'label':'Milton'});
// accounts.push({'address':'0x9e15ae1483F0D16Edd1Cb5513381f19D346cbe84','balance':0,'label':'Natick'});
// accounts.push({'address':'0xc07b2b7BfA5737d0f929ac889301730486506968','balance':0,'label':'Newton'});
// accounts.push({'address':'0x7415c718c5bAf371762Baf8B55Df37daae953758','balance':0,'label':'Norwood'});
// accounts.push({'address':'0x1408871CBc5A85243423C1f61bBA5c25DC06dEBf','balance':0,'label':'Wellesley'});
// accounts.push({'address':'0xe0AaE87acB61b7a0229b10B75Aed8836E8980B45','balance':0,'label':'Watertown'});


// create an instance of web3 from MetaMask
if (typeof web3 !== 'undefined') {
  web3 = new Web3(web3.currentProvider);
} else {
  // set the provider you want from Web3.providers
  web3 = new Web3(new Web3.providers.HttpProvider("http://localhost:8545"));
}

// counter for array item
var counter = 0;

function getBalance(){

	accounts.forEach(function(account){

		// get the balance of account
		web3.eth.getBalance(account.address, function(err, res){
			counter++;

			// add balance to account object in accounts array
			// fromWei returns ether equivalent
			addBalance(account,web3.fromWei(res));

			// if all account data has returned, display data
			if (counter >= accounts.length){
				displayBalances();
			}
		});
	});
}

function displayBalances(){

	var table = '<table class="table" >' +
  					'<thead class="thead-light">' +
					    '<tr>' +
					      '<th scope="col">balance</th>' +
					      '<th scope="col">account</th>' +
					      '<th scope="col">address</th>' +
					    '</tr>' +
					 '</thead>' +
					 '<tbody>';

	accounts.forEach(function(account){
		table += '<tr>';
		table += '  <td>' + account.balance + '</td>';
		table += '  <td>' + account.label + '</td>';		
		table += '  <td>' + account.address + '</td>';				
		table += '</tr>';		
	});

  	table += '  </tbody>';
	table += '</table>';
	document.getElementById('status').innerHTML += table;

}

function addBalance(account, balance){
	account.balance = balance;
}

window.onload = function(){
	// new metamask requirement - user permission
	// permission must be given to read account data	
	ethereum.enable();	
}


</script>
</html>
